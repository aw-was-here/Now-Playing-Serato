
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Templates &#8212; Now Playing 0+untagged.1.g777cbea documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Developers" href="developers.html" />
    <link rel="prev" title="Webserver" href="output/webserver.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="templates">
<h1>Templates<a class="headerlink" href="#templates" title="Permalink to this headline">¶</a></h1>
<p>Now Playing handles almost all output via the
<a class="reference external" href="https://jinja2docs.readthedocs.io/">Jinja2 templating system</a> which
includes an extremely <a class="reference external" href="https://jinja2docs.readthedocs.io/en/stable/templates.html">powerful language</a>
that enables you a full range of customizing the output.</p>
<p>In general, Now Playing provides a generic set of variables that can be used in any template. These
values are filled in dependent on a few factors:</p>
<ul class="simple">
<li><p>the input source providing its own data</p></li>
<li><p>whether the media has been appropriately tagged</p></li>
<li><p>Now Playing’s ability to read those tags</p></li>
</ul>
<p>Some examples:</p>
<ul class="simple">
<li><p>An MP3 file missing ID3 tags may only have <cite>title</cite> available.</p></li>
<li><p>Serato in Remote mode, title and optionally artist are available.</p></li>
<li><p>MP4 files have very limited support currently in Now Playing so will not have the label</p></li>
</ul>
<p>Additionally, some outputs (e.g., TwitchBot) may provide additional variables that provide
additional, context-sensitive features. See their individual pages for more information.</p>
<section id="support-variables">
<h2>Support Variables<a class="headerlink" href="#support-variables" title="Permalink to this headline">¶</a></h2>
<table class="docutils align-default">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Variable</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>album</p></td>
<td><p>Album track comes from</p></td>
</tr>
<tr class="row-odd"><td><p>albumartist</p></td>
<td><p>Artist listed on the album</p></td>
</tr>
<tr class="row-even"><td><p>artist</p></td>
<td><p>Artist for the song</p></td>
</tr>
<tr class="row-odd"><td><p>bitrate</p></td>
<td><p>Bitrate the file was encoded at</p></td>
</tr>
<tr class="row-even"><td><p>bpm</p></td>
<td><p>Beats per minute of the song</p></td>
</tr>
<tr class="row-odd"><td><p>composer</p></td>
<td><p>Composer of the song</p></td>
</tr>
<tr class="row-even"><td><p>coverurl</p></td>
<td><p>Relative location to fetch the cover. Note that this will only work when the webserver is active.</p></td>
</tr>
<tr class="row-odd"><td><p>date</p></td>
<td><p>Date of the media</p></td>
</tr>
<tr class="row-even"><td><p>deck</p></td>
<td><p>deck # this track is playing on</p></td>
</tr>
<tr class="row-odd"><td><p>disc</p></td>
<td><p>Disc number</p></td>
</tr>
<tr class="row-even"><td><p>disc_total</p></td>
<td><p>Total number of discs in album</p></td>
</tr>
<tr class="row-odd"><td><p>filename</p></td>
<td><p>Local filename of the media</p></td>
</tr>
<tr class="row-even"><td><p>genre</p></td>
<td><p>Genre of the song</p></td>
</tr>
<tr class="row-odd"><td><p>key</p></td>
<td><p>Key of the song</p></td>
</tr>
<tr class="row-even"><td><p>label</p></td>
<td><p>Label of the media</p></td>
</tr>
<tr class="row-odd"><td><p>lang</p></td>
<td><p>Language used by the media</p></td>
</tr>
<tr class="row-even"><td><p>title</p></td>
<td><p>Title of the media</p></td>
</tr>
<tr class="row-odd"><td><p>track</p></td>
<td><p>Track number on the disc</p></td>
</tr>
<tr class="row-even"><td><p>track_total</p></td>
<td><p>Total tracks on the disc</p></td>
</tr>
</tbody>
</table>
</section>
<section id="implementation-notes">
<h2>Implementation Notes<a class="headerlink" href="#implementation-notes" title="Permalink to this headline">¶</a></h2>
<section id="arrays">
<h3>Arrays<a class="headerlink" href="#arrays" title="Permalink to this headline">¶</a></h3>
<p>Fields that are may be multi-valued (e.g., genre) will be merged into one.</p>
</section>
<section id="undefined">
<h3>Undefined<a class="headerlink" href="#undefined" title="Permalink to this headline">¶</a></h3>
<p>When rendering templates, Now Playing will set any undefined variables to the empty string.
Instead of having to render a template as:</p>
<div class="highlight-jinja2 notranslate"><div class="highlight"><pre><span></span>{% if variable is defined and variable is not none and variable|length %}
</pre></div>
</div>
<p>This can be short-cut to:</p>
<div class="highlight-jinja2 notranslate"><div class="highlight"><pre><span></span>{% if variable %}
</pre></div>
</div>
<p>Since variable will always be defined. This fact also means that templates that mistakenly use the
wrong variable name will render, just with an empty string in place of the expected text.</p>
</section>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Now Playing</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="upgrading.html">Upgrading</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="settings.html">Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="input/m3u.html">M3U Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="input/mpris2.html">MPRIS2</a></li>
<li class="toctree-l1"><a class="reference internal" href="input/serato.html">Serato</a></li>
<li class="toctree-l1"><a class="reference internal" href="output/obswebsocket.html">OBS WebSocket Plug-in</a></li>
<li class="toctree-l1"><a class="reference internal" href="output/twitchbot.html">TwitchBot</a></li>
<li class="toctree-l1"><a class="reference internal" href="output/webserver.html">Webserver</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Templates</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#support-variables">Support Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="#implementation-notes">Implementation Notes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="developers.html">Developers</a></li>
<li class="toctree-l1"><a class="reference internal" href="comparisons.html">Versus Comparisons</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="output/webserver.html" title="previous chapter">Webserver</a></li>
      <li>Next: <a href="developers.html" title="next chapter">Developers</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2021, Allen Wittenauer.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.0.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/templatevariables.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>